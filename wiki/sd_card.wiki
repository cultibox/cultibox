#summary Carte SD

= Sommaire =
<wiki:toc max_depth="4" />

= Introduction =

Ce chapitre de l'annexe décrit les fichiers présents sur la carte SD

= Architecture =

= racine de la carte =

A la racine de la carte, deux fichiers sont présents ainsi que trois dossiers : 
 * Répertoire cnf
 * Répertoire bin
 * Répertoire logs
 * Fichier firm.hex
 * Fichier log.txt

== Fichier log.txt ==

Le fichier log.txt enregistre différentes informations transmise par la Cultibox lors du démarrage.

== Fichier firm.hex ==

Ce fichier contient le firmware de la Cultibox.

= Répertoire cnf =

Le répertoire cnf contient :
 * Le fichier conf
 * Le fichier wifi
 * Le fichier cnt
 * Le fichier id
 * Le dossier plg
 * Le dossier prg

== Fichier conf ==

== Fichier wifi == 

Ce fichier suit le format suivant :

SSID:ssid_test
CLE:WPA-AUTO
PWD:lrnplmasv
IPS:XXX.XXX.XXX.XXX
IPC:XXX.XXX.XXX.XXX

Avec IPS : IP serveur (ordi client)
Avec IPC : IP cultibox

== Fichier cnt ==

Ce fichier contient une seule information : le contraste que doit appliquer la Cultibox.

== Fichier id ==

Ce fichier contient une seule information : le numéro unique de la Cultibox.

== Dossier plg ==

== Dossier prg ==

= Répertoire bin =

Le répertoire bin contient les firmwares des accessoires. On trouve donc dans ce dossier, les firmwares suivants :
 * emetteur.hex
 * wlevel_5.hex
 * wlevel_6.hex
 * ec_2.hex
 * ec_3.hex
 * ec_4.hex
 * ec_5.hex
 * ec_6.hex
 * ph_2.hex
 * ph_3.hex
 * ph_4.hex
 * ph_5.hex
 * ph_6.hex
 * or_2.hex
 * or_3.hex
 * or_4.hex
 * or_5.hex
 * or_6.hex
 * od_2.hex
 * od_3.hex
 * od_4.hex
 * od_5.hex
 * od_6.hex

= Répertoire logs =

Le répertoire logs contient : 
 * Le fichier index
 * Un répertoire par mois

== Fichier index ==

Le fichier index indique pour chaque jour quels sont les capteurs connectés sur la Cultibox.

Chaque ligne représente un jour. Les deux premiers digits sont le numéro du mois, les deux suivants sont le numéro du jour, les 6 digits suivants représentes les capteurs branchés.

Chaque type de capteur à un caractère lui correspondant :
 * "0" : pas de capteur
 * "2" : Capteur de température et d'humidité
 * "3" : Capteur de température immergeable
 * "6" : Capteur de niveau d'eau 5
 * "7" : Capteur de niveau d'eau 6
 * "8" : Capteur de pH
 * "9" : Capteur d'EC
 * ":" : Capteur d’oxygène dissous
 * ";" : Capteur d'ORP


Exemple : 12 février , Capteur 1 : T & RH , capteur 3 pH , capteur 4 : ORP :
0212208;00

== Un répertoire par mois ==

Dans chaque répertoire on trouve les fichiers suivants :

 * pwr_XX
 * log_XX
 * cal_XX

Ou XX représente le numéro du jour dans le mois.

=== Fichier pwr_XX ===

=== Fichier logs_XX ===

=== Fichier cal_XX ===

Les fichiers cal_XX donnent pour chaque jour les informations du calendrier.
Ce fichier est écrit en texte brute, mais il y a la possibilité d'afficher certains caractères spéciaux : 
 * 0xAA : Pleine lune
 * 0xAB : Nouvelle lune
 * 0xAC : Lune montante
 * 0xAD : Lune descendante
 * 0xAE : Nœud lunaire
 * 0xAF : Apogée
 * 0xB0 : Périgée
 * 0xB1 : Jour fruit
 * 0xB2 : Jour racine
 * 0xB3 : Jour fleur
 * 0xB4 : Jour feuille